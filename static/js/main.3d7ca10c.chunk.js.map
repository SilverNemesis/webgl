{"version":3,"sources":["Utility.js","ColoredSquareScene.js","ColoredCubeScene.js","TexturedCubeScene.js","LightedCubeModel.js","LightedCubeScene.js","App.js","serviceWorker.js","index.js"],"names":["Utility","this","initShaderProgram","bind","loadTexture","clearScreen","gl","vsSource","fsSource","vertexShader","_loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","alert","getProgramInfoLog","type","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","url","texture","createTexture","bindTexture","TEXTURE_2D","internalFormat","RGBA","srcFormat","srcType","UNSIGNED_BYTE","pixel","Uint8Array","texImage2D","image","Image","onload","_isPowerOf2","width","height","generateMipmap","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","src","value","clearColor","clearDepth","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","ColoredSquareScene","utility","initScene","drawScene","programInfo","program","attribLocations","vertexPosition","getAttribLocation","vertexColor","uniformLocations","projectionMatrix","getUniformLocation","modelViewMatrix","buffers","_initBuffers","scene","squareRotation","deltaTime","FLOAT","bindBuffer","ARRAY_BUFFER","color","vertexAttribPointer","enableVertexAttribArray","position","fieldOfView","Math","PI","aspect","canvas","clientWidth","clientHeight","mat4","useProgram","uniformMatrix4fv","drawArrays","TRIANGLE_STRIP","createBuffer","bufferData","Float32Array","STATIC_DRAW","ColoredCubeScene","cubeRotation","ELEMENT_ARRAY_BUFFER","indices","UNSIGNED_SHORT","drawElements","TRIANGLES","positionBuffer","faceColors","colors","j","length","c","concat","colorBuffer","indexBuffer","Uint16Array","TexturedCubeScene","textureCoord","uSampler","activeTexture","TEXTURE0","uniform1i","textureCoordBuffer","LightedCubeModel","draw","_initShaders","model","vertexNormal","normalMatrix","viewMatrix","modelMatrix","normal","normalBuffer","LightedCubeScene","actors","location","rotation","rotationSpeed","camera","cameraDir","i","actor","_renderActor","_animateActor","App","props","onClickCanvas","renderCanvas","scenes","init","render","sceneIndex","rect","getBoundingClientRect","getContext","frame","window","requestAnimationFrame","cancelAnimationFrame","event","preventDefault","timeStamp","className","ref","elem","onClick","React","Component","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3d7ca10c.chunk.js","sourcesContent":["class Utility {\r\n  constructor() {\r\n    this.initShaderProgram = this.initShaderProgram.bind(this);\r\n    this.loadTexture = this.loadTexture.bind(this);\r\n    this.clearScreen = this.clearScreen.bind(this);\r\n  }\r\n\r\n  initShaderProgram(gl, vsSource, fsSource) {\r\n    const vertexShader = this._loadShader(gl, gl.VERTEX_SHADER, vsSource);\r\n    const fragmentShader = this._loadShader(gl, gl.FRAGMENT_SHADER, fsSource);\r\n    const shaderProgram = gl.createProgram();\r\n    gl.attachShader(shaderProgram, vertexShader);\r\n    gl.attachShader(shaderProgram, fragmentShader);\r\n    gl.linkProgram(shaderProgram);\r\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\r\n      alert('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram));\r\n      return null;\r\n    }\r\n    return shaderProgram;\r\n  }\r\n\r\n  _loadShader(gl, type, source) {\r\n    const shader = gl.createShader(type);\r\n    gl.shaderSource(shader, source);\r\n    gl.compileShader(shader);\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n      alert('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));\r\n      gl.deleteShader(shader);\r\n      return null;\r\n    }\r\n    return shader;\r\n  }\r\n\r\n  loadTexture(gl, url) {\r\n    const texture = gl.createTexture();\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    const level = 0;\r\n    const internalFormat = gl.RGBA;\r\n    const width = 1;\r\n    const height = 1;\r\n    const border = 0;\r\n    const srcFormat = gl.RGBA;\r\n    const srcType = gl.UNSIGNED_BYTE;\r\n    const pixel = new Uint8Array([0, 0, 255, 255]);\r\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, pixel);\r\n    const image = new Image();\r\n    image.onload = () => {\r\n      gl.bindTexture(gl.TEXTURE_2D, texture);\r\n      gl.texImage2D(gl.TEXTURE_2D, level, internalFormat,\r\n        srcFormat, srcType, image);\r\n      if (this._isPowerOf2(image.width) && this._isPowerOf2(image.height)) {\r\n        gl.generateMipmap(gl.TEXTURE_2D);\r\n      } else {\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n      }\r\n    };\r\n    image.src = url;\r\n    return texture;\r\n  }\r\n\r\n  _isPowerOf2(value) {\r\n    return (value & (value - 1)) === 0;\r\n  }\r\n\r\n  clearScreen(gl) {\r\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n    gl.clearDepth(1.0);\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.depthFunc(gl.LEQUAL);\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n  }\r\n}\r\n\r\nexport default Utility;\r\n","import Utility from './Utility'\r\nimport * as mat4 from 'gl-matrix/mat4';\r\n\r\nclass ColoredSquareScene {\r\n  constructor() {\r\n    this.utility = new Utility();\r\n    this.initScene = this.initScene.bind(this);\r\n    this.drawScene = this.drawScene.bind(this);\r\n  }\r\n\r\n  initScene(gl) {\r\n    const vsSource = `\r\n    attribute vec4 aVertexPosition;\r\n    attribute vec4 aVertexColor;\r\n\r\n    uniform mat4 uModelViewMatrix;\r\n    uniform mat4 uProjectionMatrix;\r\n\r\n    varying lowp vec4 vColor;\r\n\r\n    void main(void) {\r\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\r\n      vColor = aVertexColor;\r\n    }\r\n  `;\r\n\r\n    const fsSource = `\r\n    varying lowp vec4 vColor;\r\n\r\n    void main(void) {\r\n      gl_FragColor = vColor;\r\n    }\r\n  `;\r\n\r\n    const shaderProgram = this.utility.initShaderProgram(gl, vsSource, fsSource);\r\n\r\n    const programInfo = {\r\n      program: shaderProgram,\r\n      attribLocations: {\r\n        vertexPosition: gl.getAttribLocation(shaderProgram, 'aVertexPosition'),\r\n        vertexColor: gl.getAttribLocation(shaderProgram, 'aVertexColor')\r\n      },\r\n      uniformLocations: {\r\n        projectionMatrix: gl.getUniformLocation(shaderProgram, 'uProjectionMatrix'),\r\n        modelViewMatrix: gl.getUniformLocation(shaderProgram, 'uModelViewMatrix')\r\n      }\r\n    };\r\n\r\n    const buffers = this._initBuffers(gl);\r\n\r\n    this.scene = { programInfo, buffers, squareRotation: 0.0 };\r\n  }\r\n\r\n  drawScene(gl, deltaTime) {\r\n    const scene = this.scene;\r\n    const { programInfo, buffers } = scene;\r\n\r\n    this.utility.clearScreen(gl);\r\n\r\n    {\r\n      const numComponents = 4;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.color);\r\n      gl.vertexAttribPointer(\r\n        programInfo.attribLocations.vertexColor,\r\n        numComponents,\r\n        type,\r\n        normalize,\r\n        stride,\r\n        offset);\r\n      gl.enableVertexAttribArray(\r\n        programInfo.attribLocations.vertexColor);\r\n    }\r\n\r\n    {\r\n      const numComponents = 2;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.position);\r\n      gl.vertexAttribPointer(\r\n        programInfo.attribLocations.vertexPosition,\r\n        numComponents,\r\n        type,\r\n        normalize,\r\n        stride,\r\n        offset);\r\n      gl.enableVertexAttribArray(\r\n        programInfo.attribLocations.vertexPosition);\r\n    }\r\n\r\n    {\r\n      const fieldOfView = 45 * Math.PI / 180;\r\n      const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n      const zNear = 0.1;\r\n      const zFar = 100.0;\r\n      const projectionMatrix = mat4.create();\r\n      mat4.perspective(projectionMatrix, fieldOfView, aspect, zNear, zFar);\r\n      const modelViewMatrix = mat4.create();\r\n      mat4.translate(modelViewMatrix, modelViewMatrix, [-0.0, 0.0, -6.0]);\r\n      mat4.rotate(modelViewMatrix, modelViewMatrix, scene.squareRotation, [0, 0, 1]);\r\n      gl.useProgram(programInfo.program);\r\n      gl.uniformMatrix4fv(\r\n        programInfo.uniformLocations.projectionMatrix,\r\n        false,\r\n        projectionMatrix);\r\n      gl.uniformMatrix4fv(\r\n        programInfo.uniformLocations.modelViewMatrix,\r\n        false,\r\n        modelViewMatrix);\r\n    }\r\n\r\n    {\r\n      const offset = 0;\r\n      const vertexCount = 4;\r\n      gl.drawArrays(gl.TRIANGLE_STRIP, offset, vertexCount);\r\n    }\r\n\r\n    scene.squareRotation += deltaTime;\r\n  }\r\n\r\n  _initBuffers(gl) {\r\n    const positions = [\r\n      1.0, 1.0,\r\n      -1.0, 1.0,\r\n      1.0, -1.0,\r\n      -1.0, -1.0,\r\n    ];\r\n    const position = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, position);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\r\n\r\n    const colors = [\r\n      1.0, 1.0, 1.0, 1.0,\r\n      1.0, 0.0, 0.0, 1.0,\r\n      0.0, 1.0, 0.0, 1.0,\r\n      0.0, 0.0, 1.0, 1.0\r\n    ];\r\n    const color = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, color);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colors), gl.STATIC_DRAW);\r\n\r\n    return { position, color };\r\n  }\r\n}\r\n\r\nexport default ColoredSquareScene;\r\n","import Utility from './Utility'\r\nimport * as mat4 from 'gl-matrix/mat4';\r\n\r\nclass ColoredCubeScene {\r\n  constructor() {\r\n    this.utility = new Utility();\r\n    this.initScene = this.initScene.bind(this);\r\n    this.drawScene = this.drawScene.bind(this);\r\n  }\r\n\r\n  initScene(gl) {\r\n    const vsSource = `\r\n    attribute vec4 aVertexPosition;\r\n    attribute vec4 aVertexColor;\r\n\r\n    uniform mat4 uModelViewMatrix;\r\n    uniform mat4 uProjectionMatrix;\r\n\r\n    varying lowp vec4 vColor;\r\n\r\n    void main(void) {\r\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\r\n      vColor = aVertexColor;\r\n    }\r\n  `;\r\n\r\n    const fsSource = `\r\n    varying lowp vec4 vColor;\r\n\r\n    void main(void) {\r\n      gl_FragColor = vColor;\r\n    }\r\n  `;\r\n\r\n    const shaderProgram = this.utility.initShaderProgram(gl, vsSource, fsSource);\r\n\r\n    const programInfo = {\r\n      program: shaderProgram,\r\n      attribLocations: {\r\n        vertexPosition: gl.getAttribLocation(shaderProgram, 'aVertexPosition'),\r\n        vertexColor: gl.getAttribLocation(shaderProgram, 'aVertexColor')\r\n      },\r\n      uniformLocations: {\r\n        projectionMatrix: gl.getUniformLocation(shaderProgram, 'uProjectionMatrix'),\r\n        modelViewMatrix: gl.getUniformLocation(shaderProgram, 'uModelViewMatrix')\r\n      }\r\n    };\r\n\r\n    const buffers = this._initBuffers(gl);\r\n\r\n    this.scene = { programInfo, buffers, cubeRotation: 0.0 };\r\n  }\r\n\r\n  drawScene(gl, deltaTime) {\r\n    const scene = this.scene;\r\n    const { programInfo, buffers } = scene;\r\n\r\n    this.utility.clearScreen(gl);\r\n\r\n    {\r\n      const numComponents = 3;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.position);\r\n      gl.vertexAttribPointer(\r\n        programInfo.attribLocations.vertexPosition,\r\n        numComponents,\r\n        type,\r\n        normalize,\r\n        stride,\r\n        offset);\r\n      gl.enableVertexAttribArray(programInfo.attribLocations.vertexPosition);\r\n    }\r\n\r\n    {\r\n      const numComponents = 4;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.color);\r\n      gl.vertexAttribPointer(\r\n        programInfo.attribLocations.vertexColor,\r\n        numComponents,\r\n        type,\r\n        normalize,\r\n        stride,\r\n        offset);\r\n      gl.enableVertexAttribArray(programInfo.attribLocations.vertexColor);\r\n    }\r\n\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\r\n\r\n    {\r\n      const fieldOfView = 45 * Math.PI / 180;\r\n      const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n      const zNear = 0.1;\r\n      const zFar = 100.0;\r\n      const projectionMatrix = mat4.create();\r\n      mat4.perspective(projectionMatrix, fieldOfView, aspect, zNear, zFar);\r\n      const modelViewMatrix = mat4.create();\r\n      mat4.translate(modelViewMatrix, modelViewMatrix, [-0.0, 0.0, -6.0]);\r\n      mat4.rotate(modelViewMatrix, modelViewMatrix, scene.cubeRotation, [0, 0, 1]);\r\n      mat4.rotate(modelViewMatrix, modelViewMatrix, scene.cubeRotation * 0.7, [0, 1, 0]);\r\n      gl.useProgram(programInfo.program);\r\n      gl.uniformMatrix4fv(\r\n        programInfo.uniformLocations.projectionMatrix,\r\n        false,\r\n        projectionMatrix);\r\n      gl.uniformMatrix4fv(\r\n        programInfo.uniformLocations.modelViewMatrix,\r\n        false,\r\n        modelViewMatrix);\r\n    }\r\n\r\n    {\r\n      const vertexCount = 36;\r\n      const type = gl.UNSIGNED_SHORT;\r\n      const offset = 0;\r\n      gl.drawElements(gl.TRIANGLES, vertexCount, type, offset);\r\n    }\r\n\r\n    scene.cubeRotation += deltaTime;\r\n  }\r\n\r\n  _initBuffers(gl) {\r\n    const positions = [\r\n      // Front face\r\n      -1.0, -1.0, 1.0,\r\n      1.0, -1.0, 1.0,\r\n      1.0, 1.0, 1.0,\r\n      -1.0, 1.0, 1.0,\r\n\r\n      // Back face\r\n      -1.0, -1.0, -1.0,\r\n      -1.0, 1.0, -1.0,\r\n      1.0, 1.0, -1.0,\r\n      1.0, -1.0, -1.0,\r\n\r\n      // Top face\r\n      -1.0, 1.0, -1.0,\r\n      -1.0, 1.0, 1.0,\r\n      1.0, 1.0, 1.0,\r\n      1.0, 1.0, -1.0,\r\n\r\n      // Bottom face\r\n      -1.0, -1.0, -1.0,\r\n      1.0, -1.0, -1.0,\r\n      1.0, -1.0, 1.0,\r\n      -1.0, -1.0, 1.0,\r\n\r\n      // Right face\r\n      1.0, -1.0, -1.0,\r\n      1.0, 1.0, -1.0,\r\n      1.0, 1.0, 1.0,\r\n      1.0, -1.0, 1.0,\r\n\r\n      // Left face\r\n      -1.0, -1.0, -1.0,\r\n      -1.0, -1.0, 1.0,\r\n      -1.0, 1.0, 1.0,\r\n      -1.0, 1.0, -1.0,\r\n    ];\r\n    const positionBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\r\n\r\n    const faceColors = [\r\n      [1.0, 1.0, 1.0, 1.0],    // Front face: white\r\n      [1.0, 0.0, 0.0, 1.0],    // Back face: red\r\n      [0.0, 1.0, 0.0, 1.0],    // Top face: green\r\n      [0.0, 0.0, 1.0, 1.0],    // Bottom face: blue\r\n      [1.0, 1.0, 0.0, 1.0],    // Right face: yellow\r\n      [1.0, 0.0, 1.0, 1.0],    // Left face: purple\r\n    ];\r\n    let colors = [];\r\n    for (let j = 0; j < faceColors.length; ++j) {\r\n      const c = faceColors[j];\r\n      colors = colors.concat(c, c, c, c);\r\n    }\r\n    const colorBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colors), gl.STATIC_DRAW);\r\n\r\n    const indices = [\r\n      0, 1, 2, 0, 2, 3,   // front\r\n      4, 5, 6, 4, 6, 7,   // back\r\n      8, 9, 10, 8, 10, 11,   // top\r\n      12, 13, 14, 12, 14, 15,   // bottom\r\n      16, 17, 18, 16, 18, 19,   // right\r\n      20, 21, 22, 20, 22, 23,   // left\r\n    ];\r\n    const indexBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);\r\n\r\n    return { position: positionBuffer, color: colorBuffer, indices: indexBuffer };\r\n  }\r\n}\r\n\r\nexport default ColoredCubeScene;\r\n","import Utility from './Utility'\r\nimport * as mat4 from 'gl-matrix/mat4';\r\n\r\nclass TexturedCubeScene {\r\n  constructor() {\r\n    this.utility = new Utility();\r\n    this.initScene = this.initScene.bind(this);\r\n    this.drawScene = this.drawScene.bind(this);\r\n  }\r\n\r\n  initScene(gl) {\r\n    const vsSource = `\r\n      attribute vec4 aVertexPosition;\r\n      attribute vec2 aTextureCoord;\r\n\r\n      uniform mat4 uModelViewMatrix;\r\n      uniform mat4 uProjectionMatrix;\r\n\r\n      varying highp vec2 vTextureCoord;\r\n\r\n      void main(void) {\r\n        gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\r\n        vTextureCoord = aTextureCoord;\r\n      }\r\n    `;\r\n\r\n    const fsSource = `\r\n      varying highp vec2 vTextureCoord;\r\n\r\n      uniform sampler2D uSampler;\r\n\r\n      void main(void) {\r\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\r\n      }\r\n    `;\r\n\r\n    const shaderProgram = this.utility.initShaderProgram(gl, vsSource, fsSource);\r\n\r\n    const programInfo = {\r\n      program: shaderProgram,\r\n      attribLocations: {\r\n        vertexPosition: gl.getAttribLocation(shaderProgram, 'aVertexPosition'),\r\n        textureCoord: gl.getAttribLocation(shaderProgram, 'aTextureCoord')\r\n      },\r\n      uniformLocations: {\r\n        projectionMatrix: gl.getUniformLocation(shaderProgram, 'uProjectionMatrix'),\r\n        modelViewMatrix: gl.getUniformLocation(shaderProgram, 'uModelViewMatrix'),\r\n        uSampler: gl.getUniformLocation(shaderProgram, 'uSampler')\r\n      }\r\n    };\r\n\r\n    const buffers = this._initBuffers(gl);\r\n\r\n    const texture = this.utility.loadTexture(gl, 'images/cubetexture.png');\r\n\r\n    this.scene = { programInfo, buffers, texture, cubeRotation: 0.0 };\r\n  }\r\n\r\n  drawScene(gl, deltaTime) {\r\n    const scene = this.scene;\r\n    const { programInfo, buffers, texture } = scene;\r\n\r\n    this.utility.clearScreen(gl);\r\n\r\n    {\r\n      const numComponents = 3;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.position);\r\n      gl.vertexAttribPointer(\r\n        programInfo.attribLocations.vertexPosition,\r\n        numComponents,\r\n        type,\r\n        normalize,\r\n        stride,\r\n        offset);\r\n      gl.enableVertexAttribArray(programInfo.attribLocations.vertexPosition);\r\n    }\r\n\r\n    {\r\n      const numComponents = 2;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.textureCoord);\r\n      gl.vertexAttribPointer(\r\n        programInfo.attribLocations.textureCoord,\r\n        numComponents,\r\n        type,\r\n        normalize,\r\n        stride,\r\n        offset);\r\n      gl.enableVertexAttribArray(programInfo.attribLocations.textureCoord);\r\n    }\r\n\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\r\n\r\n    {\r\n      const fieldOfView = 45 * Math.PI / 180;\r\n      const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n      const zNear = 0.1;\r\n      const zFar = 100.0;\r\n      const projectionMatrix = mat4.create();\r\n      mat4.perspective(projectionMatrix, fieldOfView, aspect, zNear, zFar);\r\n      const modelViewMatrix = mat4.create();\r\n      mat4.translate(modelViewMatrix, modelViewMatrix, [-0.0, 0.0, -6.0]);\r\n      mat4.rotate(modelViewMatrix, modelViewMatrix, scene.cubeRotation, [0, 0, 1]);\r\n      mat4.rotate(modelViewMatrix, modelViewMatrix, scene.cubeRotation * 0.7, [0, 1, 0]);\r\n      gl.useProgram(programInfo.program);\r\n      gl.uniformMatrix4fv(\r\n        programInfo.uniformLocations.projectionMatrix,\r\n        false,\r\n        projectionMatrix);\r\n      gl.uniformMatrix4fv(\r\n        programInfo.uniformLocations.modelViewMatrix,\r\n        false,\r\n        modelViewMatrix);\r\n    }\r\n\r\n    {\r\n      gl.activeTexture(gl.TEXTURE0);\r\n      gl.bindTexture(gl.TEXTURE_2D, texture);\r\n      gl.uniform1i(programInfo.uniformLocations.uSampler, 0);\r\n      const vertexCount = 36;\r\n      const type = gl.UNSIGNED_SHORT;\r\n      const offset = 0;\r\n      gl.drawElements(gl.TRIANGLES, vertexCount, type, offset);\r\n    }\r\n\r\n    scene.cubeRotation += deltaTime;\r\n  }\r\n\r\n  _initBuffers(gl) {\r\n    const positions = [\r\n      // Front face\r\n      -1.0, -1.0, 1.0,\r\n      1.0, -1.0, 1.0,\r\n      1.0, 1.0, 1.0,\r\n      -1.0, 1.0, 1.0,\r\n\r\n      // Back face\r\n      -1.0, -1.0, -1.0,\r\n      -1.0, 1.0, -1.0,\r\n      1.0, 1.0, -1.0,\r\n      1.0, -1.0, -1.0,\r\n\r\n      // Top face\r\n      -1.0, 1.0, -1.0,\r\n      -1.0, 1.0, 1.0,\r\n      1.0, 1.0, 1.0,\r\n      1.0, 1.0, -1.0,\r\n\r\n      // Bottom face\r\n      -1.0, -1.0, -1.0,\r\n      1.0, -1.0, -1.0,\r\n      1.0, -1.0, 1.0,\r\n      -1.0, -1.0, 1.0,\r\n\r\n      // Right face\r\n      1.0, -1.0, -1.0,\r\n      1.0, 1.0, -1.0,\r\n      1.0, 1.0, 1.0,\r\n      1.0, -1.0, 1.0,\r\n\r\n      // Left face\r\n      -1.0, -1.0, -1.0,\r\n      -1.0, -1.0, 1.0,\r\n      -1.0, 1.0, 1.0,\r\n      -1.0, 1.0, -1.0,\r\n    ];\r\n    const positionBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\r\n\r\n    const textureCoordinates = [\r\n      // Front\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n      // Back\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n      // Top\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n      // Bottom\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n      // Right\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n      // Left\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n    ];\r\n    const textureCoordBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(textureCoordinates), gl.STATIC_DRAW);\r\n\r\n    const indices = [\r\n      0, 1, 2, 0, 2, 3,   // front\r\n      4, 5, 6, 4, 6, 7,   // back\r\n      8, 9, 10, 8, 10, 11,   // top\r\n      12, 13, 14, 12, 14, 15,   // bottom\r\n      16, 17, 18, 16, 18, 19,   // right\r\n      20, 21, 22, 20, 22, 23,   // left\r\n    ];\r\n    const indexBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);\r\n\r\n    return { position: positionBuffer, textureCoord: textureCoordBuffer, indices: indexBuffer };\r\n  }\r\n}\r\n\r\nexport default TexturedCubeScene;\r\n","import * as mat4 from 'gl-matrix/mat4';\r\nimport Utility from './Utility'\r\n\r\nclass LightedCubeModel {\r\n  constructor(gl) {\r\n    this.gl = gl;\r\n    this.utility = new Utility();\r\n    this.draw = this.draw.bind(this);\r\n    const shaderProgram = this._initShaders(gl);\r\n    this.model = {\r\n      program: shaderProgram,\r\n      attribLocations: {\r\n        vertexPosition: gl.getAttribLocation(shaderProgram, 'aVertexPosition'),\r\n        vertexNormal: gl.getAttribLocation(shaderProgram, 'aVertexNormal'),\r\n        textureCoord: gl.getAttribLocation(shaderProgram, 'aTextureCoord')\r\n      },\r\n      uniformLocations: {\r\n        projectionMatrix: gl.getUniformLocation(shaderProgram, 'uProjectionMatrix'),\r\n        modelViewMatrix: gl.getUniformLocation(shaderProgram, 'uModelViewMatrix'),\r\n        normalMatrix: gl.getUniformLocation(shaderProgram, 'uNormalMatrix'),\r\n        uSampler: gl.getUniformLocation(shaderProgram, 'uSampler')\r\n      },\r\n      buffers: this._initBuffers(gl),\r\n      texture: this.utility.loadTexture(gl, 'images/cubetexture.png')\r\n    }\r\n  }\r\n\r\n  draw(projectionMatrix, viewMatrix, modelMatrix) {\r\n    const gl = this.gl;\r\n    const model = this.model;\r\n    const { buffers, texture } = this.model;\r\n\r\n    {\r\n      const numComponents = 3;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.position);\r\n      gl.vertexAttribPointer(model.attribLocations.vertexPosition, numComponents, type, normalize, stride, offset);\r\n      gl.enableVertexAttribArray(model.attribLocations.vertexPosition);\r\n    }\r\n\r\n    {\r\n      const numComponents = 3;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.normal);\r\n      gl.vertexAttribPointer(model.attribLocations.vertexNormal, numComponents, type, normalize, stride, offset);\r\n      gl.enableVertexAttribArray(model.attribLocations.vertexNormal);\r\n    }\r\n\r\n    {\r\n      const numComponents = 2;\r\n      const type = gl.FLOAT;\r\n      const normalize = false;\r\n      const stride = 0;\r\n      const offset = 0;\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffers.textureCoord);\r\n      gl.vertexAttribPointer(model.attribLocations.textureCoord, numComponents, type, normalize, stride, offset);\r\n      gl.enableVertexAttribArray(model.attribLocations.textureCoord);\r\n    }\r\n\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\r\n\r\n    const normalMatrix = mat4.create();\r\n    mat4.invert(normalMatrix, modelMatrix);\r\n    mat4.transpose(normalMatrix, normalMatrix);\r\n\r\n    const modelViewMatrix = mat4.create();\r\n    mat4.multiply(modelViewMatrix, viewMatrix, modelMatrix);\r\n\r\n    gl.useProgram(model.program);\r\n    gl.uniformMatrix4fv(model.uniformLocations.projectionMatrix, false, projectionMatrix);\r\n    gl.uniformMatrix4fv(model.uniformLocations.modelViewMatrix, false, modelViewMatrix);\r\n    gl.uniformMatrix4fv(model.uniformLocations.normalMatrix, false, normalMatrix);\r\n\r\n    {\r\n      gl.activeTexture(gl.TEXTURE0);\r\n      gl.bindTexture(gl.TEXTURE_2D, texture);\r\n      gl.uniform1i(model.uniformLocations.uSampler, 0);\r\n\r\n      const vertexCount = 36;\r\n      const type = gl.UNSIGNED_SHORT;\r\n      const offset = 0;\r\n      gl.drawElements(gl.TRIANGLES, vertexCount, type, offset);\r\n    }\r\n  }\r\n\r\n  _initShaders(gl) {\r\n    const vsSource = `\r\n      attribute vec4 aVertexPosition;\r\n      attribute vec3 aVertexNormal;\r\n      attribute vec2 aTextureCoord;\r\n\r\n      uniform mat4 uNormalMatrix;\r\n      uniform mat4 uModelViewMatrix;\r\n      uniform mat4 uProjectionMatrix;\r\n\r\n      varying highp vec2 vTextureCoord;\r\n      varying highp vec3 vLighting;\r\n\r\n      void main(void) {\r\n        gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\r\n        vTextureCoord = aTextureCoord;\r\n\r\n        // Apply lighting effect\r\n\r\n        highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\r\n        highp vec3 directionalLightColor = vec3(1, 1, 1);\r\n        highp vec3 directionalVector = normalize(vec3(0.85, 0.8, 0.75));\r\n\r\n        highp vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);\r\n\r\n        highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\r\n        vLighting = ambientLight + (directionalLightColor * directional);\r\n      }\r\n    `;\r\n\r\n    const fsSource = `\r\n      varying highp vec2 vTextureCoord;\r\n      varying highp vec3 vLighting;\r\n\r\n      uniform sampler2D uSampler;\r\n\r\n      void main(void) {\r\n        highp vec4 texelColor = texture2D(uSampler, vTextureCoord);\r\n\r\n        gl_FragColor = vec4(texelColor.rgb * vLighting, texelColor.a);\r\n      }\r\n    `;\r\n\r\n    return this.utility.initShaderProgram(gl, vsSource, fsSource);\r\n  }\r\n\r\n  _initBuffers(gl) {\r\n    const positions = [\r\n      // Front face\r\n      -1.0, -1.0, 1.0,\r\n      1.0, -1.0, 1.0,\r\n      1.0, 1.0, 1.0,\r\n      -1.0, 1.0, 1.0,\r\n\r\n      // Back face\r\n      -1.0, -1.0, -1.0,\r\n      -1.0, 1.0, -1.0,\r\n      1.0, 1.0, -1.0,\r\n      1.0, -1.0, -1.0,\r\n\r\n      // Top face\r\n      -1.0, 1.0, -1.0,\r\n      -1.0, 1.0, 1.0,\r\n      1.0, 1.0, 1.0,\r\n      1.0, 1.0, -1.0,\r\n\r\n      // Bottom face\r\n      -1.0, -1.0, -1.0,\r\n      1.0, -1.0, -1.0,\r\n      1.0, -1.0, 1.0,\r\n      -1.0, -1.0, 1.0,\r\n\r\n      // Right face\r\n      1.0, -1.0, -1.0,\r\n      1.0, 1.0, -1.0,\r\n      1.0, 1.0, 1.0,\r\n      1.0, -1.0, 1.0,\r\n\r\n      // Left face\r\n      -1.0, -1.0, -1.0,\r\n      -1.0, -1.0, 1.0,\r\n      -1.0, 1.0, 1.0,\r\n      -1.0, 1.0, -1.0,\r\n    ];\r\n\r\n    const positionBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\r\n\r\n    const vertexNormals = [\r\n      // Front\r\n      0.0, 0.0, 1.0,\r\n      0.0, 0.0, 1.0,\r\n      0.0, 0.0, 1.0,\r\n      0.0, 0.0, 1.0,\r\n\r\n      // Back\r\n      0.0, 0.0, -1.0,\r\n      0.0, 0.0, -1.0,\r\n      0.0, 0.0, -1.0,\r\n      0.0, 0.0, -1.0,\r\n\r\n      // Top\r\n      0.0, 1.0, 0.0,\r\n      0.0, 1.0, 0.0,\r\n      0.0, 1.0, 0.0,\r\n      0.0, 1.0, 0.0,\r\n\r\n      // Bottom\r\n      0.0, -1.0, 0.0,\r\n      0.0, -1.0, 0.0,\r\n      0.0, -1.0, 0.0,\r\n      0.0, -1.0, 0.0,\r\n\r\n      // Right\r\n      1.0, 0.0, 0.0,\r\n      1.0, 0.0, 0.0,\r\n      1.0, 0.0, 0.0,\r\n      1.0, 0.0, 0.0,\r\n\r\n      // Left\r\n      -1.0, 0.0, 0.0,\r\n      -1.0, 0.0, 0.0,\r\n      -1.0, 0.0, 0.0,\r\n      -1.0, 0.0, 0.0\r\n    ];\r\n\r\n    const normalBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, normalBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertexNormals), gl.STATIC_DRAW);\r\n\r\n    const textureCoordinates = [\r\n      // Front\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n\r\n      // Back\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n\r\n      // Top\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n\r\n      // Bottom\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n\r\n      // Right\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n\r\n      // Left\r\n      0.0, 0.0,\r\n      1.0, 0.0,\r\n      1.0, 1.0,\r\n      0.0, 1.0,\r\n    ];\r\n\r\n    const textureCoordBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(textureCoordinates), gl.STATIC_DRAW);\r\n\r\n    const indices = [\r\n      // Front\r\n      0, 1, 2, 0, 2, 3,\r\n\r\n      // Back\r\n      4, 5, 6, 4, 6, 7,\r\n\r\n      // Top\r\n      8, 9, 10, 8, 10, 11,\r\n\r\n      // Bottom\r\n      12, 13, 14, 12, 14, 15,\r\n\r\n      // Right\r\n      16, 17, 18, 16, 18, 19,\r\n\r\n      // Left\r\n      20, 21, 22, 20, 22, 23,\r\n    ];\r\n\r\n    const indexBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);\r\n\r\n    return { position: positionBuffer, normal: normalBuffer, textureCoord: textureCoordBuffer, indices: indexBuffer };\r\n  }\r\n}\r\n\r\nexport default LightedCubeModel;\r\n","import * as mat4 from 'gl-matrix/mat4';\r\nimport Utility from './Utility'\r\nimport LightedCubeModel from './LightedCubeModel';\r\n\r\nclass LightedCubeScene {\r\n  constructor() {\r\n    this.utility = new Utility();\r\n    this.initScene = this.initScene.bind(this);\r\n    this.drawScene = this.drawScene.bind(this);\r\n  }\r\n\r\n  initScene(gl) {\r\n    const model = new LightedCubeModel(gl);\r\n    this.scene = {\r\n      actors: [\r\n        {\r\n          model,\r\n          location: [-2.0, 0.0, -5.5],\r\n          rotation: 0.0,\r\n          rotationSpeed: 1.0\r\n        },\r\n        {\r\n          model,\r\n          location: [2.0, 0.0, -5.5],\r\n          rotation: 0.0,\r\n          rotationSpeed: 2.0\r\n        }\r\n      ],\r\n      camera: [0.0, 0.0, 0.0],\r\n      cameraDir: [0.0, 0.0, 8.0]\r\n    };\r\n  }\r\n\r\n  drawScene(gl, deltaTime) {\r\n    const scene = this.scene;\r\n\r\n    this.utility.clearScreen(gl);\r\n\r\n    const fieldOfView = 45 * Math.PI / 180;\r\n    const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n    const zNear = 0.1;\r\n    const zFar = 100.0;\r\n    const projectionMatrix = mat4.create();\r\n    mat4.perspective(projectionMatrix, fieldOfView, aspect, zNear, zFar);\r\n\r\n    const viewMatrix = mat4.create();\r\n    mat4.translate(viewMatrix, viewMatrix, scene.camera);\r\n    mat4.invert(viewMatrix, viewMatrix)\r\n\r\n    for (let i = 0; i < scene.actors.length; i++) {\r\n      const actor = scene.actors[i];\r\n      this._renderActor(projectionMatrix, viewMatrix, actor);\r\n      this._animateActor(deltaTime, actor);\r\n    }\r\n\r\n    if (scene.camera[2] > 64.0) {\r\n      scene.camera[2] = 64.0;\r\n      scene.cameraDir[2] = -8.0;\r\n    } else if (scene.camera[2] < 0.0) {\r\n      scene.camera[2] = 0.0;\r\n      scene.cameraDir[2] = 8.0;\r\n    }\r\n\r\n    scene.camera[0] += scene.cameraDir[0] * deltaTime;\r\n    scene.camera[1] += scene.cameraDir[1] * deltaTime;\r\n    scene.camera[2] += scene.cameraDir[2] * deltaTime;\r\n  }\r\n\r\n  _renderActor(projectionMatrix, viewMatrix, actor) {\r\n    const model = actor.model;\r\n\r\n    const modelMatrix = mat4.create();\r\n    mat4.translate(modelMatrix, modelMatrix, actor.location);\r\n    mat4.rotate(modelMatrix, modelMatrix, actor.rotation, [0, 0, 1]);\r\n    mat4.rotate(modelMatrix, modelMatrix, actor.rotation * 0.7, [0, 1, 0]);\r\n    mat4.rotate(modelMatrix, modelMatrix, actor.rotation * 0.3, [1, 0, 0]);\r\n\r\n    model.draw(projectionMatrix, viewMatrix, modelMatrix);\r\n  }\r\n\r\n  _animateActor(deltaTime, actor) {\r\n    actor.rotation += deltaTime * actor.rotationSpeed;\r\n  }\r\n}\r\n\r\nexport default LightedCubeScene;\r\n","import React from 'react';\r\nimport ColoredSquareScene from './ColoredSquareScene';\r\nimport ColoredCubeScene from './ColoredCubeScene';\r\nimport TexturedCubeScene from './TexturedCubeScene';\r\nimport LightedCubeScene from './LightedCubeScene';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClickCanvas = this.onClickCanvas.bind(this);\r\n    this.renderCanvas = this.renderCanvas.bind(this);\r\n    this.scenes = [\r\n      { init: false, render: new ColoredSquareScene() },\r\n      { init: false, render: new ColoredCubeScene() },\r\n      { init: false, render: new TexturedCubeScene() },\r\n      { init: false, render: new LightedCubeScene() }\r\n    ];\r\n    this.sceneIndex = this.scenes.length - 1;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const canvas = this.canvas;\r\n    const rect = canvas.getBoundingClientRect()\r\n    canvas.width = rect.width;\r\n    canvas.height = rect.height;\r\n    this.gl = canvas.getContext('webgl');\r\n    if (this.gl === null) {\r\n      alert(\"Unable to initialize WebGL. Your browser or machine may not support it.\");\r\n    } else {\r\n      const scene = this.scenes[this.sceneIndex];\r\n      if (!scene.init) {\r\n        scene.init = true;\r\n        scene.render.initScene(this.gl);\r\n      }\r\n      this.frame = window.requestAnimationFrame(this.renderCanvas);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.cancelAnimationFrame(this.frame);\r\n  }\r\n\r\n  onClickCanvas(event) {\r\n    event.preventDefault();\r\n    this.sceneIndex = (this.sceneIndex + 1) % this.scenes.length;\r\n    const scene = this.scenes[this.sceneIndex];\r\n    if (!scene.init) {\r\n      scene.init = true;\r\n      scene.render.initScene(this.gl);\r\n    }\r\n  }\r\n\r\n  renderCanvas(timeStamp) {\r\n    if (!this.timeStamp) {\r\n      this.timeStamp = timeStamp;\r\n    }\r\n    timeStamp *= 0.001;\r\n    const deltaTime = timeStamp - this.timeStamp;\r\n    this.timeStamp = timeStamp;\r\n    const scene = this.scenes[this.sceneIndex];\r\n    scene.render.drawScene(this.gl, deltaTime);\r\n    this.frame = window.requestAnimationFrame(this.renderCanvas);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"screen\">\r\n        <canvas className=\"canvas\" ref={elem => this.canvas = elem} onClick={this.onClickCanvas}></canvas>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}