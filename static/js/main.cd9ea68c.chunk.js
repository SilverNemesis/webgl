(this.webpackJsonpwebgl=this.webpackJsonpwebgl||[]).push([[0],{10:function(e,t,r){e.exports=r(16)},15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(6),o=r.n(i),c=(r(15),r(2)),s=r(3),l=r(8),u=r(7),h=r(4),d=r(9),m=r(1),v=function(){function e(){Object(c.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(s.a)(e,[{key:"initScene",value:function(e){var t=this._initShaderProgram(e,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n  ","\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  "),r={program:t,attribLocations:{vertexPosition:e.getAttribLocation(t,"aVertexPosition"),vertexColor:e.getAttribLocation(t,"aVertexColor")},uniformLocations:{projectionMatrix:e.getUniformLocation(t,"uProjectionMatrix"),modelViewMatrix:e.getUniformLocation(t,"uModelViewMatrix")}},n=this._initBuffers(e);this.scene={programInfo:r,buffers:n,squareRotation:0}}},{key:"drawScene",value:function(e,t){var r=this.scene,n=r.programInfo,a=r.buffers;e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var i=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,a.color),e.vertexAttribPointer(n.attribLocations.vertexColor,4,i,!1,0,0),e.enableVertexAttribArray(n.attribLocations.vertexColor);var o=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,a.position),e.vertexAttribPointer(n.attribLocations.vertexPosition,2,o,!1,0,0),e.enableVertexAttribArray(n.attribLocations.vertexPosition);var c=45*Math.PI/180,s=e.canvas.clientWidth/e.canvas.clientHeight,l=m.a();m.b(l,c,s,.1,100);var u=m.a();m.d(u,u,[-0,0,-6]),m.c(u,u,r.squareRotation,[0,0,1]),e.useProgram(n.program),e.uniformMatrix4fv(n.uniformLocations.projectionMatrix,!1,l),e.uniformMatrix4fv(n.uniformLocations.modelViewMatrix,!1,u);e.drawArrays(e.TRIANGLE_STRIP,0,4),r.squareRotation+=t}},{key:"_initShaderProgram",value:function(e,t,r){var n=this._loadShader(e,e.VERTEX_SHADER,t),a=this._loadShader(e,e.FRAGMENT_SHADER,r),i=e.createProgram();return e.attachShader(i,n),e.attachShader(i,a),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)?i:(alert("Unable to initialize the shader program: "+e.getProgramInfoLog(i)),null)}},{key:"_loadShader",value:function(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(n)),e.deleteShader(n),null)}},{key:"_initBuffers",value:function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW);var r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1]),e.STATIC_DRAW),{position:t,color:r}}}]),e}(),f=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderCanvas=r.renderCanvas.bind(Object(h.a)(r)),r.scene=new v,r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.canvas,t=e.getBoundingClientRect();e.width=t.width,e.height=t.height,this.gl=e.getContext("webgl"),null===this.gl?alert("Unable to initialize WebGL. Your browser or machine may not support it."):(this.scene.initScene(this.gl),this.frame=window.requestAnimationFrame(this.renderCanvas))}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frame)}},{key:"renderCanvas",value:function(e){this.timeStamp||(this.timeStamp=e);var t=(e*=.001)-this.timeStamp;this.timeStamp=e,this.scene.drawScene(this.gl,t),this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"screen"},a.a.createElement("canvas",{className:"canvas",ref:function(t){return e.canvas=t}}))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.cd9ea68c.chunk.js.map