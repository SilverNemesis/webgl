(this.webpackJsonpwebgl=this.webpackJsonpwebgl||[]).push([[0],{13:function(e,t,i){e.exports=i(19)},18:function(e,t,i){},19:function(e,t,i){"use strict";i.r(t);var a=i(10),r=i.n(a),n=i(12),o=i.n(n),s=(i(18),i(3)),c=i(4),u=i(8),l=i(7),f=i(6),m=i(9),d=i(0);function h(e,t,i){var a=v(e,e.VERTEX_SHADER,t),r=v(e,e.FRAGMENT_SHADER,i),n=e.createProgram();return e.attachShader(n,a),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)?n:(alert("Unable to initialize the shader program: "+e.getProgramInfoLog(n)),null)}function b(e,t){switch(t){case e.FLOAT:return"FLOAT";case e.FLOAT_VEC2:return"FLOAT_VEC2";case e.FLOAT_VEC3:return"FLOAT_VEC3";case e.FLOAT_VEC4:return"FLOAT_VEC4";case e.INT:return"INT";case e.INT_VEC2:return"INT_VEC2";case e.INT_VEC3:return"INT_VEC3";case e.INT_VEC4:return"INT_VEC4";case e.BOOL:return"BOOL";case e.BOOL_VEC2:return"BOOL_VEC2";case e.BOOL_VEC3:return"BOOL_VEC3";case e.BOOL_VEC4:return"BOOL_VEC4";case e.FLOAT_MAT2:return"FLOAT_MAT2";case e.FLOAT_MAT3:return"FLOAT_MAT3";case e.FLOAT_MAT4:return"FLOAT_MAT4";case e.SAMPLER_2D:return"SAMPLER_2D";case e.SAMPLER_CUBE:return"SAMPLER_CUBE";default:return"UNKNOWN"}}function v(e,t,i){var a=e.createShader(t);return e.shaderSource(a,i),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(a)),e.deleteShader(a),null)}function g(e,t){var i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i);var a=e.RGBA,r=e.RGBA,n=e.UNSIGNED_BYTE,o=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,0,a,1,1,0,r,n,o);var s=new Image;return s.onload=function(){e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,a,r,n,s),x(s.width)&&x(s.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))},s.src=t,i}function x(e){return 0===(e&e-1)}function L(e){e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}var p=[{x:-1,y:0},{x:0,y:-1},{x:1,y:0},{x:0,y:1}];function A(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,a=function(e){s[e.y][e.x]=0},r=function(e,t){if(!n(o(e,t,3)))return!1;var i=o(e,t,2);return 1===s[i.y][i.x]},n=function(i){return!(i.x<0||i.y<0||i.x>=e||i.y>=t)},o=function(e,t,i){return{x:e.x+t.x*i,y:e.y+t.y*i}},s=[],c=0;c<t;c++)s.push(new Array(e).fill(1));var u,l={x:1,y:1},f=[];for(a(l),f.push(l);f.length>0;){for(var m=f[f.length-1],d=[],h=0;h<p.length;h++){var b=p[h];r(m,b)&&d.push(b)}if(d.length>0){var v=void 0;v=d.includes(u)&&Math.random()>i?u:d[Math.floor(Math.random()*d.length)],a(o(m,v,1)),a(o(m,v,2)),f.push(o(m,v,2)),u=v}else f.pop(),u=null}return{width:e,height:t,data:s}}var R={emerald:{ambient:[.0215,.1745,.0215],diffuse:[.07568,.61424,.07568],specular:[.633,.727811,.633],shininess:.6},jade:{ambient:[.135,.2225,.1575],diffuse:[.54,.89,.63],specular:[.316228,.316228,.316228],shininess:.1},obsidian:{ambient:[.05375,.05,.06625],diffuse:[.18275,.17,.22525],specular:[.332741,.328634,.346435],shininess:.3},pearl:{ambient:[.25,.20725,.20725],diffuse:[1,.829,.829],specular:[.296648,.296648,.296648],shininess:.088},ruby:{ambient:[.1745,.01175,.01175],diffuse:[.61424,.04136,.04136],specular:[.727811,.626959,.626959],shininess:.6},turquoise:{ambient:[.1,.18725,.1745],diffuse:[.396,.74151,.69102],specular:[.297254,.30829,.306678],shininess:.1},brass:{ambient:[.329412,.223529,.027451],diffuse:[.780392,.568627,.113725],specular:[.992157,.941176,.807843],shininess:.21794872},bronze:{ambient:[.2125,.1275,.054],diffuse:[.714,.4284,.18144],specular:[.393548,.271906,.166721],shininess:.2},chrome:{ambient:[.25,.25,.25],diffuse:[.4,.4,.4],specular:[.774597,.774597,.774597],shininess:.6},copper:{ambient:[.19125,.0735,.0225],diffuse:[.7038,.27048,.0828],specular:[.256777,.137622,.086014],shininess:.1},gold:{ambient:[.24725,.1995,.0745],diffuse:[.75164,.60648,.22648],specular:[.628281,.555802,.366065],shininess:.4},silver:{ambient:[.19225,.19225,.19225],diffuse:[.50754,.50754,.50754],specular:[.508273,.508273,.508273],shininess:.4},blackPlastic:{ambient:[0,0,0],diffuse:[.01,.01,.01],specular:[.5,.5,.5],shininess:.25},cyanPlastic:{ambient:[0,.1,.06],diffuse:[0,.50980392,.50980392],specular:[.50196078,.50196078,.50196078],shininess:.25},greenPlastic:{ambient:[0,0,0],diffuse:[.1,.35,.1],specular:[.45,.55,.45],shininess:.25},redPlastic:{ambient:[0,0,0],diffuse:[.5,0,0],specular:[.7,.6,.6],shininess:.25},whitePlastic:{ambient:[0,0,0],diffuse:[.55,.55,.55],specular:[.7,.7,.7],shininess:.25},yellowPlastic:{ambient:[0,0,0],diffuse:[.5,.5,0],specular:[.6,.6,.5],shininess:.25},blackRubber:{ambient:[.02,.02,.02],diffuse:[.01,.01,.01],specular:[.4,.4,.4],shininess:.078125},cyanRubber:{ambient:[0,.05,.05],diffuse:[.4,.5,.5],specular:[.04,.7,.7],shininess:.078125},greenRubber:{ambient:[0,.05,0],diffuse:[.4,.5,.4],specular:[.04,.7,.04],shininess:.078125},redRubber:{ambient:[.05,0,0],diffuse:[.5,.4,.4],specular:[.7,.04,.04],shininess:.078125},whiteRubber:{ambient:[.05,.05,.05],diffuse:[.5,.5,.5],specular:[.7,.7,.7],shininess:.078125},yellowRubber:{ambient:[.05,.05,0],diffuse:[.5,.5,.4],specular:[.7,.7,.04],shininess:.078125}};function _(e){return R[e]}var E=function(){function e(){Object(s.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(c.a)(e,[{key:"initScene",value:function(e){var t=h(e,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n  ","\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  "),i={program:t,attribLocations:{vertexPosition:e.getAttribLocation(t,"aVertexPosition"),vertexColor:e.getAttribLocation(t,"aVertexColor")},uniformLocations:{projectionMatrix:e.getUniformLocation(t,"uProjectionMatrix"),modelViewMatrix:e.getUniformLocation(t,"uModelViewMatrix")}},a=this._initBuffers(e);this.scene={programInfo:i,buffers:a,squareRotation:0}}},{key:"drawScene",value:function(e,t){var i=this.scene,a=i.programInfo,r=i.buffers;L(e);var n=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,r.color),e.vertexAttribPointer(a.attribLocations.vertexColor,4,n,!1,0,0),e.enableVertexAttribArray(a.attribLocations.vertexColor);var o=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,r.position),e.vertexAttribPointer(a.attribLocations.vertexPosition,2,o,!1,0,0),e.enableVertexAttribArray(a.attribLocations.vertexPosition);var s=45*Math.PI/180,c=e.canvas.clientWidth/e.canvas.clientHeight,u=d.a();d.d(u,s,c,.1,100);var l=d.a();d.f(l,l,[-0,0,-6]),d.e(l,l,i.squareRotation,[0,0,1]),e.useProgram(a.program),e.uniformMatrix4fv(a.uniformLocations.projectionMatrix,!1,u),e.uniformMatrix4fv(a.uniformLocations.modelViewMatrix,!1,l);e.drawArrays(e.TRIANGLE_STRIP,0,4),i.squareRotation+=t}},{key:"_initBuffers",value:function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW);var i=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1]),e.STATIC_DRAW),{position:t,color:i}}}]),e}(),T=function(){function e(){Object(s.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(c.a)(e,[{key:"initScene",value:function(e){var t=h(e,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n  ","\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  "),i={program:t,attribLocations:{vertexPosition:e.getAttribLocation(t,"aVertexPosition"),vertexColor:e.getAttribLocation(t,"aVertexColor")},uniformLocations:{projectionMatrix:e.getUniformLocation(t,"uProjectionMatrix"),modelViewMatrix:e.getUniformLocation(t,"uModelViewMatrix")}},a=this._initBuffers(e);this.scene={programInfo:i,buffers:a,cubeRotation:0}}},{key:"drawScene",value:function(e,t){var i=this.scene,a=i.programInfo,r=i.buffers;L(e);var n=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,r.position),e.vertexAttribPointer(a.attribLocations.vertexPosition,3,n,!1,0,0),e.enableVertexAttribArray(a.attribLocations.vertexPosition);var o=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,r.color),e.vertexAttribPointer(a.attribLocations.vertexColor,4,o,!1,0,0),e.enableVertexAttribArray(a.attribLocations.vertexColor),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indices);var s=45*Math.PI/180,c=e.canvas.clientWidth/e.canvas.clientHeight,u=d.a();d.d(u,s,c,.1,100);var l=d.a();d.f(l,l,[-0,0,-6]),d.e(l,l,i.cubeRotation,[0,0,1]),d.e(l,l,.7*i.cubeRotation,[0,1,0]),e.useProgram(a.program),e.uniformMatrix4fv(a.uniformLocations.projectionMatrix,!1,u),e.uniformMatrix4fv(a.uniformLocations.modelViewMatrix,!1,l);var f=e.UNSIGNED_SHORT;e.drawElements(e.TRIANGLES,36,f,0),i.cubeRotation+=t}},{key:"_initBuffers",value:function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),e.STATIC_DRAW);for(var i=[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]],a=[],r=0;r<i.length;++r){var n=i[r];a=a.concat(n,n,n,n)}var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW);var s=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,s),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),e.STATIC_DRAW),{position:t,color:o,indices:s}}}]),e}(),w=i(1),O=i(5),M=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"_initModel",value:function(e){var t,i,a,r=this,n=e.gl,o=e.geometry;e.texture&&((t={}).diffuse=g(n,e.texture.diffuse),t.normal=g(n,e.texture.normal)),Promise.all([fetch(e.shader.vertex).then((function(e){return e.text()})).then((function(e){return i=e})),fetch(e.shader.fragment).then((function(e){return e.text()})).then((function(e){return a=e}))]).then((function(){var e=h(n,i,a),s=function(e,t){for(var i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),a=[],r=0;r<i;r++){var n=e.getActiveAttrib(t,r);a.push({name:n.name,type:b(e,n.type)})}for(var o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),s=[],c=0;c<o;c++){var u=e.getActiveUniform(t,c);s.push({name:u.name,type:b(e,u.type)})}return{attributes:a,uniforms:s}}(n,e),c={program:e,attribLocations:{},uniformLocations:{}};s.attributes.forEach((function(t){var i=n.getAttribLocation(e,t.name);switch(t.name){case"aVertexPosition":c.attribLocations.vertexPosition=i;break;case"aVertexNormal":c.attribLocations.vertexNormal=i;break;case"aVertexTangent":c.attribLocations.vertexTangent=i;break;case"aVertexBitangent":c.attribLocations.vertexBitangent=i;break;case"aTextureCoord":c.attribLocations.vertexTextureCoord=i;break;default:alert("unknown attribute of "+t.name)}})),s.uniforms.forEach((function(t){var i=n.getUniformLocation(e,t.name);switch(t.name){case"uModelMatrix":c.uniformLocations.modelMatrix=i;break;case"uViewMatrix":c.uniformLocations.viewMatrix=i;break;case"uNormalMatrix":c.uniformLocations.normalMatrix=i;break;case"uProjectionMatrix":c.uniformLocations.projectionMatrix=i;break;case"uSamplerNormal":c.uniformLocations.textureNormal=i;break;case"uSamplerDiffuse":c.uniformLocations.textureDiffuse=i;break;case"uShowTexture":c.uniformLocations.textureShow=i;break;case"uPerPixel":c.uniformLocations.perPixel=i;break;case"uCameraPos":c.uniformLocations.cameraPosition=i;break;case"uAmbientLight":c.uniformLocations.ambientLight=i;break;case"uDirectionalLight.color":c.uniformLocations.directionalLight||(c.uniformLocations.directionalLight={}),c.uniformLocations.directionalLight.color=i;break;case"uDirectionalLight.direction":c.uniformLocations.directionalLight||(c.uniformLocations.directionalLight={}),c.uniformLocations.directionalLight.direction=i;break;case"uPointLight.color":c.uniformLocations.pointLight||(c.uniformLocations.pointLight={}),c.uniformLocations.pointLight.color=i;break;case"uPointLight.position":c.uniformLocations.pointLight||(c.uniformLocations.pointLight={}),c.uniformLocations.pointLight.position=i;break;case"uLight[0].position":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<1;)c.uniformLocations.lights.push({});c.uniformLocations.lights[0].position=i;break;case"uLight[0].ambient":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<1;)c.uniformLocations.lights.push({});c.uniformLocations.lights[0].ambient=i;break;case"uLight[0].diffuse":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<1;)c.uniformLocations.lights.push({});c.uniformLocations.lights[0].diffuse=i;break;case"uLight[0].specular":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<1;)c.uniformLocations.lights.push({});c.uniformLocations.lights[0].specular=i;break;case"uLight[1].position":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<2;)c.uniformLocations.lights.push({});c.uniformLocations.lights[1].position=i;break;case"uLight[1].ambient":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<2;)c.uniformLocations.lights.push({});c.uniformLocations.lights[1].ambient=i;break;case"uLight[1].diffuse":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<2;)c.uniformLocations.lights.push({});c.uniformLocations.lights[1].diffuse=i;break;case"uLight[1].specular":for(c.uniformLocations.lights||(c.uniformLocations.lights=[]);c.uniformLocations.lights.length<2;)c.uniformLocations.lights.push({});c.uniformLocations.lights[1].specular=i;break;case"uMaterial.ambient":c.uniformLocations.material||(c.uniformLocations.material={}),c.uniformLocations.material.ambient=i;break;case"uMaterial.diffuse":c.uniformLocations.material||(c.uniformLocations.material={}),c.uniformLocations.material.diffuse=i;break;case"uMaterial.specular":c.uniformLocations.material||(c.uniformLocations.material={}),c.uniformLocations.material.specular=i;break;case"uMaterial.shininess":c.uniformLocations.material||(c.uniformLocations.material={}),c.uniformLocations.material.shininess=i;break;default:alert("unknown uniform of "+t.name)}}));var u=r._initBuffers(n,c,o);r.model={shader:c,buffers:u,texture:t}}))}},{key:"_initBuffers",value:function(e,t,i){var a=[],r=[],n=[],o=[],s=[],c=[],u=O.b(),l=O.b(),f=O.b(),m=0,d=function(e,t){switch(t.length){case 3:i=e[t[0]],n=e[t[1]],o=e[t[2]],a.push.apply(a,Object(w.a)(i).concat(Object(w.a)(n),Object(w.a)(o))),c.push(m+0,m+1,m+2),m+=3,O.e(l,n,i),O.e(f,o,i),O.c(u,l,f),O.d(u,u),r.push.apply(r,Object(w.a)(u).concat(Object(w.a)(u),Object(w.a)(u)));break;case 4:!function(e,t,i,n){a.push.apply(a,Object(w.a)(e).concat(Object(w.a)(t),Object(w.a)(i),Object(w.a)(n))),c.push(m+0,m+1,m+2,m+2,m+3,m+0),m+=4,O.e(l,t,e),O.e(f,i,e),O.c(u,l,f),O.d(u,u),r.push.apply(r,Object(w.a)(u).concat(Object(w.a)(u),Object(w.a)(u),Object(w.a)(u)))}(e[t[0]],e[t[1]],e[t[2]],e[t[3]]);break;case 5:!function(e,t,i,n,o){a.push.apply(a,Object(w.a)(e).concat(Object(w.a)(t),Object(w.a)(i),Object(w.a)(n),Object(w.a)(o))),c.push(m+0,m+3,m+4,m+0,m+1,m+3,m+1,m+2,m+3),m+=5,O.e(l,t,e),O.e(f,o,e),O.c(u,l,f),O.d(u,u),r.push.apply(r,Object(w.a)(u).concat(Object(w.a)(u),Object(w.a)(u),Object(w.a)(u),Object(w.a)(u)))}(e[t[0]],e[t[1]],e[t[2]],e[t[3]],e[t[4]]);break;default:alert("faces with "+t.length+" vertices are not supported")}var i,n,o};i({addSquare:function(e,i,d,h){a.push.apply(a,Object(w.a)(e).concat(Object(w.a)(i),Object(w.a)(d),Object(w.a)(h))),c.push(m+0,m+1,m+2,m+0,m+3,m+1),m+=4,(t.attribLocations.vertexNormal||t.attribLocations.vertexTangent||t.attribLocations.vertexBitangent)&&(O.e(l,h,e),O.e(f,e,d),t.attribLocations.vertexNormal&&(O.c(u,l,f),O.d(u,u),r.push.apply(r,Object(w.a)(u).concat(Object(w.a)(u),Object(w.a)(u),Object(w.a)(u)))),t.attribLocations.vertexTangent&&(O.d(l,l),n.push.apply(n,Object(w.a)(l).concat(Object(w.a)(l),Object(w.a)(l),Object(w.a)(l)))),t.attribLocations.vertexBitangent&&(O.d(f,f),o.push.apply(o,Object(w.a)(f).concat(Object(w.a)(f),Object(w.a)(f),Object(w.a)(f))))),t.attribLocations.vertexTextureCoord&&s.push(0,0,1,1,0,1,1,0)},addFaces:function(e,t){for(var i=0;i<t.length;i++)d(e,t[i])}});var h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW);var b=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,b),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW);var v={position:h,indices:b,vertexCount:c.length};if(t.attribLocations.vertexNormal){var g=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),v.normal=g}if(t.attribLocations.vertexTangent){var x=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,x),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),v.tangent=x}if(t.attribLocations.vertexBitangent){var L=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,L),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW),v.bitangent=L}if(t.attribLocations.vertexTextureCoord){var p=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW),v.textureCoord=p}return v}},{key:"_drawModel",value:function(e){if(e.model){var t=e.gl,i=e.model,a=e.projectionMatrix,r=e.viewMatrix,n=e.modelMatrix,o=i.shader,s=i.buffers,c=i.texture,u=t.FLOAT;if(t.bindBuffer(t.ARRAY_BUFFER,s.position),t.vertexAttribPointer(o.attribLocations.vertexPosition,3,u,!1,0,0),t.enableVertexAttribArray(o.attribLocations.vertexPosition),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s.indices),o.attribLocations.vertexNormal){var l=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,s.normal),t.vertexAttribPointer(o.attribLocations.vertexNormal,3,l,!1,0,0),t.enableVertexAttribArray(o.attribLocations.vertexNormal)}if(o.attribLocations.vertexTangent){var f=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,s.tangent),t.vertexAttribPointer(o.attribLocations.vertexTangent,3,f,!1,0,0),t.enableVertexAttribArray(o.attribLocations.vertexTangent)}if(o.attribLocations.vertexBitangent){var m=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,s.bitangent),t.vertexAttribPointer(o.attribLocations.vertexBitangent,3,m,!1,0,0),t.enableVertexAttribArray(o.attribLocations.vertexBitangent)}if(o.attribLocations.vertexTextureCoord){var h=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,s.textureCoord),t.vertexAttribPointer(o.attribLocations.vertexTextureCoord,2,h,!1,0,0),t.enableVertexAttribArray(o.attribLocations.vertexTextureCoord)}if(t.useProgram(o.program),t.uniformMatrix4fv(o.uniformLocations.projectionMatrix,!1,a),t.uniformMatrix4fv(o.uniformLocations.modelMatrix,!1,n),t.uniformMatrix4fv(o.uniformLocations.viewMatrix,!1,r),o.uniformLocations.normalMatrix){var b=d.a();d.b(b,n),d.g(b,b),t.uniformMatrix4fv(o.uniformLocations.normalMatrix,!1,b)}if(o.uniformLocations.textureShow&&t.uniform1i(o.uniformLocations.textureShow,e.textureShow),o.uniformLocations.perPixel&&t.uniform1i(o.uniformLocations.perPixel,e.perPixel),o.uniformLocations.ambientLight&&t.uniform3fv(o.uniformLocations.ambientLight,e.ambientLight),o.uniformLocations.directionalLight){var v=O.a(e.directionalLight.direction);O.d(v,v),t.uniform3fv(o.uniformLocations.directionalLight.color,e.directionalLight.color),t.uniform3fv(o.uniformLocations.directionalLight.direction,v)}if(o.uniformLocations.pointLight&&(t.uniform3fv(o.uniformLocations.pointLight.color,e.pointLight.color),t.uniform3fv(o.uniformLocations.pointLight.position,e.pointLight.position)),e.lights)for(var g=e.lights,x=0;x<g.length;x++){var L=g[x];t.uniform3fv(o.uniformLocations.lights[x].position,L.position),t.uniform3fv(o.uniformLocations.lights[x].ambient,L.ambient),t.uniform3fv(o.uniformLocations.lights[x].diffuse,L.diffuse),t.uniform3fv(o.uniformLocations.lights[x].specular,L.specular)}if(e.material){var p=e.material;t.uniform3fv(o.uniformLocations.material.ambient,p.ambient),t.uniform3fv(o.uniformLocations.material.diffuse,p.diffuse),t.uniform3fv(o.uniformLocations.material.specular,p.specular),t.uniform1f(o.uniformLocations.material.shininess,p.shininess)}o.uniformLocations.cameraPosition&&t.uniform3fv(o.uniformLocations.cameraPosition,e.cameraPosition),o.uniformLocations.textureNormal&&(t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,c.normal),t.uniform1i(o.uniformLocations.textureNormal,0)),o.uniformLocations.textureDiffuse&&(t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,c.diffuse),t.uniform1i(o.uniformLocations.textureDiffuse,1));var A=s.vertexCount,R=t.UNSIGNED_SHORT;t.drawElements(t.TRIANGLES,A,R,0)}}}]),e}(),F=function(e){function t(e){var i;return Object(s.a)(this,t),(i=Object(u.a)(this,Object(l.a)(t).call(this,e))).gl=e,i.draw=i.draw.bind(Object(f.a)(i)),i._initModel({gl:e,geometry:i._geometry,texture:{diffuse:"images/cubetexture.png"},shader:{vertex:"shaders/texturedcube/vertex.glsl",fragment:"shaders/texturedcube/fragment.glsl"}}),i}return Object(m.a)(t,e),Object(c.a)(t,[{key:"draw",value:function(e,t,i){this._drawModel({gl:this.gl,model:this.model,projectionMatrix:e,viewMatrix:t,modelMatrix:i})}},{key:"_geometry",value:function(e){var t=e.addSquare,i=[-1,-1,1],a=[1,1,1],r=[-1,1,1],n=[1,-1,1],o=[-1,-1,-1],s=[1,1,-1],c=[-1,1,-1],u=[1,-1,-1];t(i,a,r,n),t(u,c,s,o),t(o,r,c,i),t(n,s,a,u),t(o,n,i,u),t(s,r,a,c)}}]),t}(M),B=function(){function e(){Object(s.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(c.a)(e,[{key:"initScene",value:function(e){var t=new F(e);this.scene={actors:[{model:t,location:[0,0,-6],rotations:[{angle:0,axis:[0,0,1],speed:1},{angle:0,axis:[0,1,0],speed:.7}]}],camera:[0,0,0]}}},{key:"drawScene",value:function(e,t){var i=this.scene;L(e);var a=45*Math.PI/180,r=e.canvas.clientWidth/e.canvas.clientHeight,n=d.a();d.d(n,a,r,.1,100);var o=d.a();d.f(o,o,i.camera),d.b(o,o);for(var s=0;s<i.actors.length;s++){var c=i.actors[s];this._renderActor(n,o,c),this._animateActor(t,c)}}},{key:"_renderActor",value:function(e,t,i){var a=i.model,r=d.a();d.f(r,r,i.location);for(var n=0;n<i.rotations.length;n++){var o=i.rotations[n];d.e(r,r,o.angle,o.axis)}a.draw(e,t,r)}},{key:"_animateActor",value:function(e,t){for(var i=0;i<t.rotations.length;i++){var a=t.rotations[i];a.angle+=e*a.speed}}}]),e}(),y=function(e){function t(e){var i;return Object(s.a)(this,t),(i=Object(u.a)(this,Object(l.a)(t).call(this,e))).gl=e,i.draw=i.draw.bind(Object(f.a)(i)),i._initModel({gl:e,geometry:i._geometry,texture:{diffuse:"images/cubetexture.png"},shader:{vertex:"shaders/lightedcube/vertex.glsl",fragment:"shaders/lightedcube/fragment.glsl"}}),i}return Object(m.a)(t,e),Object(c.a)(t,[{key:"draw",value:function(e,t,i,a){this._drawModel({gl:this.gl,model:this.model,projectionMatrix:e,viewMatrix:t,modelMatrix:i,ambientLight:[.3,.3,.3],directionalLight:{color:[.5,.5,.5],direction:[0,1,0]},pointLight:{color:[.7,.7,.7],position:[0,0,0]},cameraPosition:[0,0,0],perPixel:a})}},{key:"_geometry",value:function(e){var t=e.addSquare,i=[-1,-1,1],a=[1,1,1],r=[-1,1,1],n=[1,-1,1],o=[-1,-1,-1],s=[1,1,-1],c=[-1,1,-1],u=[1,-1,-1];t(i,a,r,n),t(u,c,s,o),t(o,r,c,i),t(n,s,a,u),t(o,n,i,u),t(s,r,a,c)}}]),t}(M),j=function(){function e(){Object(s.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(c.a)(e,[{key:"initScene",value:function(e){var t=new y(e);this.scene={actors:[{model:t,location:[-2,0,-5.5],rotation:0,rotationSpeed:1,perPixel:!1},{model:t,location:[2,0,-5.5],rotation:0,rotationSpeed:1,perPixel:!0}],camera:[0,0,0],cameraDir:[0,0,2]}}},{key:"drawScene",value:function(e,t){var i=this.scene;L(e);var a=45*Math.PI/180,r=e.canvas.clientWidth/e.canvas.clientHeight,n=d.a();d.d(n,a,r,.1,100);var o=d.a();d.f(o,o,i.camera),d.b(o,o);for(var s=0;s<i.actors.length;s++){var c=i.actors[s];this._renderActor(n,o,c),this._animateActor(t,c)}i.camera[2]>16?(i.camera[2]=16,i.cameraDir[2]=-2):i.camera[2]<0&&(i.camera[2]=0,i.cameraDir[2]=2),i.camera[0]+=i.cameraDir[0]*t,i.camera[1]+=i.cameraDir[1]*t,i.camera[2]+=i.cameraDir[2]*t}},{key:"_renderActor",value:function(e,t,i){var a=i.model,r=d.a();d.f(r,r,i.location),d.e(r,r,i.rotation,[0,0,1]),d.e(r,r,.7*i.rotation,[0,1,0]),d.e(r,r,.3*i.rotation,[1,0,0]),a.draw(e,t,r,i.perPixel)}},{key:"_animateActor",value:function(e,t){t.rotation+=e*t.rotationSpeed}}]),e}(),S=function(){function e(t,i){Object(s.a)(this,e),this.gl=t,this.maze=i,this.draw=this.draw.bind(this);var a=this._initShaders(t);this.model={program:a,attribLocations:{vertexPosition:t.getAttribLocation(a,"aVertexPosition"),vertexColor:t.getAttribLocation(a,"aVertexColor")},uniformLocations:{projectionMatrix:t.getUniformLocation(a,"uProjectionMatrix"),modelViewMatrix:t.getUniformLocation(a,"uModelViewMatrix")},buffers:this._initBuffers(t,i)}}return Object(c.a)(e,[{key:"update",value:function(e){this._freeBuffers(this.gl,this.model.buffers),this.maze=e,this.model.buffers=this._initBuffers(this.gl,e)}},{key:"draw",value:function(e,t,i){var a=this.gl,r=this.model,n=this.model.buffers,o=a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,n.position),a.vertexAttribPointer(r.attribLocations.vertexPosition,3,o,!1,0,0),a.enableVertexAttribArray(r.attribLocations.vertexPosition);var s=a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,n.color),a.vertexAttribPointer(r.attribLocations.vertexColor,4,s,!1,0,0),a.enableVertexAttribArray(r.attribLocations.vertexColor),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,n.indices);var c=d.a();d.c(c,t,i),a.useProgram(r.program),a.uniformMatrix4fv(r.uniformLocations.projectionMatrix,!1,e),a.uniformMatrix4fv(r.uniformLocations.modelViewMatrix,!1,c);var u=n.vertexCount,l=a.UNSIGNED_INT;a.drawElements(a.TRIANGLES,u,l,0)}},{key:"_initShaders",value:function(e){return h(e,"\n      attribute vec4 aVertexPosition;\n      attribute vec4 aVertexColor;\n\n      uniform mat4 uModelViewMatrix;\n      uniform mat4 uProjectionMatrix;\n\n      varying lowp vec4 vColor;\n\n      void main(void) {\n        gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n        vColor = aVertexColor;\n      }\n    ","\n      varying lowp vec4 vColor;\n\n      void main(void) {\n        gl_FragColor = vColor;\n      }\n    ")}},{key:"_initBuffers",value:function(e,t){for(var i=[],a=[],r=[],n=0,o=function(e,t,o,s,c,u){i.push(e,o,c,t,o,c,t,s,c,e,s,c),r.push(n+0,n+1,n+2,n+0,n+2,n+3),n+=4;for(var l=0;l<4;l++)for(var f=0;f<4;f++)a.push(u[f])},s=function(e,t,o,s,c,u){i.push(e,c,o,t,c,o,t,c,s,e,c,s),r.push(n+0,n+1,n+2,n+0,n+2,n+3),n+=4;for(var l=0;l<4;l++)for(var f=0;f<4;f++)a.push(u[f])},c=function(e,t,o,s,c,u){i.push(c,e,o,c,t,o,c,t,s,c,e,s),r.push(n+0,n+1,n+2,n+0,n+2,n+3),n+=4;for(var l=0;l<4;l++)for(var f=0;f<4;f++)a.push(u[f])},u=[.2,.2,.2,1],l=[.7,.7,.7,1],f=[.5,0,.5,1],m=[0,.5,0,1],d=[.5,0,0,1],h=[0,0,.5,1],b=-t.width/2,v=-t.height/2,g=0;g<t.height;g++)for(var x=0;x<t.width;x++){var L=x+b,p=L+1,A=g+v,R=A+1;0===t.data[g][x]?o(L,p,A,R,0,u):(o(L,p,A,R,1,l),0!==g&&0!==t.data[g-1][x]||s(L,p,0,1,A,f),0!==x&&0!==t.data[g][x-1]||c(R,A,0,1,L,d),g!==t.height-1&&0!==t.data[g+1][x]||s(p,L,0,1,R,m),x!==t.width-1&&0!==t.data[g][x+1]||c(A,R,0,1,p,h))}var _=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,_),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);var E=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,E),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW);var T=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,T),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint32Array(r),e.STATIC_DRAW),{position:_,color:E,indices:T,vertexCount:r.length}}},{key:"_freeBuffers",value:function(e,t){e.deleteBuffer(t.position),e.deleteBuffer(t.color),e.deleteBuffer(t.indices)}}]),e}(),P=function(){function e(){Object(s.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this),this.totalDelta=0}return Object(c.a)(e,[{key:"initScene",value:function(e){var t=2*Math.floor(45*Math.random())+11,i=A(t,t),a=new S(e,i);this.scene={actors:[{model:a,location:[0,0,-2*t],rotation:{angle:0,axis:[0,0,1],speed:.5}}],camera:[0,0,0],cameraDir:[0,0,8]}}},{key:"drawScene",value:function(e,t){var i=this.scene;L(e);var a=45*Math.PI/180,r=e.canvas.clientWidth/e.canvas.clientHeight,n=d.a();d.d(n,a,r,.1,500);var o=d.a();d.f(o,o,i.camera),d.b(o,o);for(var s=0;s<i.actors.length;s++){var c=i.actors[s];this._renderActor(n,o,c),this._animateActor(t,c)}}},{key:"_renderActor",value:function(e,t,i){var a=i.model,r=d.a();d.f(r,r,i.location),d.e(r,r,-45*(Math.PI/180),[1,0,0]),d.e(r,r,i.rotation.angle,i.rotation.axis),a.draw(e,t,r)}},{key:"_animateActor",value:function(e,t){if(t.rotation.angle+=e*t.rotation.speed,this.totalDelta+=e,this.totalDelta>=10){this.totalDelta-=10;var i=2*Math.floor(45*Math.random())+11,a=A(i,i);t.location[2]=-2*i,t.model.update(a)}}}]),e}(),C=function(e){function t(e){var i;return Object(s.a)(this,t),(i=Object(u.a)(this,Object(l.a)(t).call(this,e))).gl=e,i.draw=i.draw.bind(Object(f.a)(i)),i._initModel({gl:e,geometry:i._geometry,texture:{diffuse:"images/Brick_Wall_017_basecolor.jpg",normal:"images/Brick_Wall_017_normal.jpg"},shader:{vertex:"shaders/brickwall/vertex.glsl",fragment:"shaders/brickwall/fragment.glsl"}}),i}return Object(m.a)(t,e),Object(c.a)(t,[{key:"draw",value:function(e,t,i){this._drawModel({gl:this.gl,model:this.model,projectionMatrix:e,viewMatrix:t,modelMatrix:i,textureShow:1,ambientLight:[.2,.2,.2],directionalLight:{color:[1,1,1],direction:[0,1,0]},pointLight:{color:[1,1,1],position:[0,0,0]},cameraPosition:[0,0,0]})}},{key:"_geometry",value:function(e){var t=e.addSquare,i=[-1,-1,1],a=[1,1,1],r=[-1,1,1],n=[1,-1,1],o=[-1,-1,-1],s=[1,1,-1],c=[-1,1,-1],u=[1,-1,-1];t(i,a,r,n),t(u,c,s,o),t(o,r,c,i),t(n,s,a,u),t(o,n,i,u),t(s,r,a,c)}}]),t}(M),k=function(){function e(){Object(s.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(c.a)(e,[{key:"initScene",value:function(e){var t=new C(e);this.scene={actors:[{model:t,location:[0,0,-5.5],rotations:[{angle:0,axis:[0,1,0],speed:.4},{angle:0,axis:[1,0,0],speed:.2}]}],camera:[0,0,0]}}},{key:"drawScene",value:function(e,t){var i=this.scene;L(e);var a=45*Math.PI/180,r=e.canvas.clientWidth/e.canvas.clientHeight,n=d.a();d.d(n,a,r,.1,100);var o=d.a();d.f(o,o,i.camera),d.b(o,o);for(var s=0;s<i.actors.length;s++){var c=i.actors[s];this._renderActor(n,o,c),this._animateActor(t,c)}}},{key:"_renderActor",value:function(e,t,i){var a=i.model,r=d.a();d.f(r,r,i.location);for(var n=0;n<i.rotations.length;n++){var o=i.rotations[n];d.e(r,r,o.angle,o.axis)}a.draw(e,t,r)}},{key:"_animateActor",value:function(e,t){for(var i=0;i<t.rotations.length;i++){var a=t.rotations[i];a.angle+=e*a.speed}}}]),e}(),U=function(e){function t(e,i){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).gl=e,a.draw=a.draw.bind(Object(f.a)(a)),a._initModel({gl:e,geometry:function(e){var t=e.addFaces,a=function(e){if("tetrahedron"===e){var t=Math.sqrt(3),i=Math.sqrt(6);return{vertices:[[t/3,-i/3*.333+.025*i,0],[-t/6,-i/3*.333+.025*i,.5],[-t/6,-i/3*.333+.025*i,-.5],[0,i/3*.666+.025*i,0]],faces:[[0,1,2],[3,1,0],[3,0,2],[3,2,1]]}}if("cube"===e){var a=.3;return{vertices:[[-a,-a,-a],[-a,-a,a],[a,-a,a],[a,-a,-a],[-a,a,-a],[-a,a,a],[a,a,a],[a,a,-a]],faces:[[0,3,2,1],[4,5,6,7],[0,1,5,4],[2,3,7,6],[1,2,6,5],[3,0,4,7]]}}if("octahedron"===e){var r=1/(2*Math.sqrt(2));return{vertices:[[-r,0,r],[r,0,r],[r,0,-r],[-r,0,-r],[0,.5,0],[0,-.5,0]],faces:[[3,0,4],[2,3,4],[1,2,4],[0,1,4],[3,2,5],[0,3,5],[2,1,5],[1,0,5]]}}if("pentagonaltrapezohedron"===e){return{vertices:[[.21029244,.1527864,.34026032],[-.08032456,.2472136,.34026032],[-.25993576,0,.34026032],[.21029244,-.6472136,.34026032],[.4205848,0,-.08032456],[.34026032,.2472136,.08032456],[-.21029244,.6472136,-.34026032],[-.4205848,0,.08032456],[-.34026032,-.2472136,-.08032456],[.08032456,-.2472136,-.34026032],[.25993576,0,-.34026032],[-.21029244,-.1527864,-.34026032]],faces:[[3,0,1,2],[0,3,4,5],[1,0,5,6],[2,1,6,7],[3,2,7,8],[4,3,9,10],[5,4,10,6],[7,6,11,8],[3,8,11,9],[10,9,11,6]]}}if("dodecahedron"===e){var n=(1+Math.sqrt(5))/2,o=.5/n,s=.5*(2-n);return{vertices:[[s,0,.5],[-s,0,.5],[-o,o,o],[0,.5,s],[o,o,o],[o,-o,o],[0,-.5,s],[-o,-o,o],[s,0,-.5],[-s,0,-.5],[-o,-o,-o],[0,-.5,-s],[o,-o,-o],[o,o,-o],[0,.5,-s],[-o,o,-o],[.5,s,0],[-.5,s,0],[-.5,-s,0],[.5,-s,0]],faces:[[4,3,2,1,0],[7,6,5,0,1],[12,11,10,9,8],[15,14,13,8,9],[14,3,4,16,13],[3,14,15,17,2],[11,6,7,18,10],[6,11,12,19,5],[4,0,5,19,16],[12,8,13,16,19],[15,9,10,18,17],[7,1,2,17,18]]}}if("icosahedron"===e){var c=1/(2*((1+Math.sqrt(5))/2));return{vertices:[[0,c,-.5],[c,.5,0],[-c,.5,0],[0,c,.5],[0,-c,.5],[-.5,0,c],[.5,0,c],[0,-c,-.5],[.5,0,-c],[-.5,0,-c],[c,-.5,0],[-c,-.5,0]],faces:[[1,0,2],[2,3,1],[4,3,5],[6,3,4],[7,0,8],[9,0,7],[10,4,11],[11,7,10],[5,2,9],[9,11,5],[8,1,6],[6,10,8],[5,3,2],[1,3,6],[2,0,9],[8,0,1],[9,7,11],[10,7,8],[11,4,5],[6,4,10]]}}}(i);t(a.vertices,a.faces)},shader:{vertex:"shaders/material/vertex.glsl",fragment:"shaders/material/fragment.glsl"}}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"draw",value:function(e,t,i,a,r){this._drawModel({gl:this.gl,model:this.model,projectionMatrix:e,viewMatrix:t,modelMatrix:i,lights:a,material:r})}}]),t}(M),D=function(){function e(){Object(s.a)(this,e),this.initScene=this.initScene.bind(this),this.drawScene=this.drawScene.bind(this)}return Object(c.a)(e,[{key:"initScene",value:function(e){var t=new U(e,"tetrahedron"),i=new U(e,"cube"),a=new U(e,"octahedron"),r=new U(e,"pentagonaltrapezohedron"),n=new U(e,"dodecahedron"),o=new U(e,"icosahedron");this.scene={actors:[{model:t,material:_("gold"),location:[-3.75,0,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:i,material:_("gold"),location:[-2.25,0,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:a,material:_("gold"),location:[-.75,0,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:r,material:_("gold"),location:[.75,0,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:n,material:_("gold"),location:[2.25,0,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:o,material:_("gold"),location:[3.75,0,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:t,material:_("chrome"),location:[-3.75,2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:i,material:_("chrome"),location:[-2.25,2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:a,material:_("chrome"),location:[-.75,2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:r,material:_("chrome"),location:[.75,2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:n,material:_("chrome"),location:[2.25,2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:o,material:_("chrome"),location:[3.75,2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:t,material:_("obsidian"),location:[-3.75,-2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:i,material:_("obsidian"),location:[-2.25,-2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:a,material:_("obsidian"),location:[-.75,-2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:r,material:_("obsidian"),location:[.75,-2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:n,material:_("obsidian"),location:[2.25,-2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]},{model:o,material:_("obsidian"),location:[3.75,-2,-8],rotations:[{angle:0,axis:[0,1,0],speed:.8},{angle:0,axis:[1,0,0],speed:.4}]}],camera:[0,0,0]}}},{key:"drawScene",value:function(e,t){var i=this.scene;L(e);var a=45*Math.PI/180,r=e.canvas.clientWidth/e.canvas.clientHeight,n=d.a();d.d(n,a,r,.1,100);var o=d.a();d.f(o,o,i.camera),d.b(o,o);for(var s=0;s<i.actors.length;s++){var c=i.actors[s];this._renderActor(n,o,c),this._animateActor(t,c)}}},{key:"_renderActor",value:function(e,t,i){var a=i.model,r=d.a();d.f(r,r,i.location);for(var n=0;n<i.rotations.length;n++){var o=i.rotations[n];d.e(r,r,o.angle,o.axis)}a.draw(e,t,r,[{position:[10,-10,0],ambient:[.2,.2,.2],diffuse:[.5,.5,.5],specular:[.9,.9,.9]},{position:[-10,10,0],ambient:[.2,.2,.2],diffuse:[.5,.5,.5],specular:[.9,.9,.9]}],i.material)}},{key:"_animateActor",value:function(e,t){for(var i=0;i<t.rotations.length;i++){var a=t.rotations[i];a.angle+=e*a.speed}}}]),e}(),V=function(e){function t(e){var i;return Object(s.a)(this,t),(i=Object(u.a)(this,Object(l.a)(t).call(this,e))).onClickCanvas=i.onClickCanvas.bind(Object(f.a)(i)),i.renderCanvas=i.renderCanvas.bind(Object(f.a)(i)),i.scenes=[{init:!1,render:new E},{init:!1,render:new T},{init:!1,render:new B},{init:!1,render:new j},{init:!1,render:new P},{init:!1,render:new k},{init:!1,render:new D}],i.sceneIndex=i.scenes.length-1,i}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.canvas,t=e.getBoundingClientRect();if(e.width=t.width,e.height=t.height,this.gl=e.getContext("webgl"),null===this.gl)alert("Unable to initialize WebGL. Your browser or machine may not support it.");else{this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK),this.gl.getExtension("OES_element_index_uint");var i=this.scenes[this.sceneIndex];i.init||(i.init=!0,i.render.initScene(this.gl)),this.frame=window.requestAnimationFrame(this.renderCanvas)}}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.frame)}},{key:"onClickCanvas",value:function(e){e.preventDefault(),this.sceneIndex=(this.sceneIndex+1)%this.scenes.length;var t=this.scenes[this.sceneIndex];t.init||(t.init=!0,t.render.initScene(this.gl))}},{key:"renderCanvas",value:function(e){e*=.001,this.timeStamp||(this.timeStamp=e);var t=e-this.timeStamp;this.timeStamp=e,this.scenes[this.sceneIndex].render.drawScene(this.gl,t),this.frame=window.requestAnimationFrame(this.renderCanvas)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"screen"},r.a.createElement("canvas",{className:"canvas",ref:function(t){return e.canvas=t},onClick:this.onClickCanvas}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.3dbf0d1d.chunk.js.map